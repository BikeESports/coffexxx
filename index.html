<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>CoffeXXX</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Favicon -->
  <link rel="icon" type="image/webp" href="logocoffexxx.webp">

  <style>
    * { box-sizing:border-box; margin:0; padding:0; }

    body {
      font-family: system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
      background:#050608;
      color:#f5f5f5;
      min-height:100vh;
      display:flex;
      flex-direction:column;
    }

    header {
      padding:16px 20px;
      border-bottom:1px solid rgba(255,255,255,0.08);
      background:#020617;
      position:sticky;
      top:0;
      z-index:5;
      text-align:center;
    }

    header h1 {
      font-size:1.4rem;
      font-weight:600;
    }

    header p {
      font-size:0.8rem;
      color:rgba(148,163,184,0.95);
      margin-top:4px;
    }

    main {
      max-width:980px;
      width:100%;
      margin:0 auto;
      padding:20px 16px 32px;
      display:flex;
      flex-direction:column;
      gap:22px;
    }

    /* LOGO TRANSPARENTE VISUAL (fondo negro desaparece) */
    img.logo {
      width:150px;
      height:auto;
      mix-blend-mode: lighten;
      display:block;
      margin:0 auto 20px;
      user-select:none;
      -webkit-user-drag:none;
    }

    .section-title {
      font-size:1rem;
      margin-bottom:6px;
      font-weight:600;
    }

    .section-text {
      font-size:0.85rem;
      color:rgba(209,213,219,0.95);
      line-height:1.4;
    }

    .price-box {
      margin-top:8px;
      padding:10px 12px;
      border-radius:12px;
      background:rgba(15,23,42,0.95);
      border:1px solid rgba(148,163,184,0.7);
      display:flex;
      flex-wrap:wrap;
      gap:12px;
      align-items:flex-start;
      justify-content:space-between;
    }

    .price-main {
      font-size:1.2rem;
      font-weight:600;
    }

    .price-main span {
      font-size:0.8rem;
      font-weight:400;
      color:rgba(209,213,219,0.9);
      margin-left:6px;
    }

    .price-note {
      font-size:0.78rem;
      color:rgba(148,163,184,0.95);
      margin-top:4px;
    }

    .catalog-summary {
      margin-top:10px;
      padding:10px 12px;
      border-radius:12px;
      background:rgba(15,23,42,0.96);
      border:1px solid rgba(148,163,184,0.7);
      font-size:0.82rem;
      color:rgba(209,213,219,0.95);
      max-width:320px;
    }

    .catalog-summary ul {
      padding-left:18px;
      margin-top:6px;
    }

    .catalog-summary li {
      margin-bottom:3px;
    }

    .alias-box {
      margin-top:6px;
      padding:8px 10px;
      border-radius:10px;
      background:rgba(15,23,42,0.98);
      border:1px dashed rgba(148,163,184,0.9);
      font-size:0.85rem;
      display:none;
    }

    .alias-label {
      font-size:0.76rem;
      text-transform:uppercase;
      letter-spacing:0.08em;
      color:rgba(148,163,184,0.95);
    }

    .alias-value {
      margin-top:4px;
      font-weight:600;
      font-size:0.95rem;
    }

    .alias-help {
      margin-top:4px;
      font-size:0.75rem;
      color:rgba(148,163,184,0.95);
    }

    .alias-warn {
      margin-top:4px;
      font-size:0.75rem;
      color:rgba(251,191,36,0.95);
    }

    .form-card {
      margin-top:6px;
      padding:14px 12px;
      border-radius:14px;
      background:rgba(15,23,42,0.97);
      border:1px solid rgba(148,163,184,0.7);
    }

    .form-grid {
      display:grid;
      grid-template-columns:repeat(2,minmax(0,1fr));
      gap:10px;
    }

    @media (max-width:700px) {
      .form-grid {
        grid-template-columns:1fr;
      }
    }

    .form-field {
      display:flex;
      flex-direction:column;
      gap:4px;
      font-size:0.8rem;
    }

    .form-input, .form-textarea {
      padding:7px 9px;
      border-radius:8px;
      border:1px solid rgba(148,163,184,0.9);
      background:#020617;
      color:#e5e7eb;
      font-size:0.85rem;
      outline:none;
    }

    .form-footer {
      margin-top:10px;
      display:flex;
      flex-direction:column;
      gap:8px;
      font-size:0.78rem;
      color:rgba(148,163,184,0.95);
    }

    .btn-row {
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      margin-top:6px;
    }

    .btn-primary, .btn-secondary {
      padding:8px 16px;
      border-radius:999px;
      border:none;
      font-size:0.85rem;
      font-weight:500;
      cursor:pointer;
    }

    .btn-primary {
      background:linear-gradient(135deg,#22c55e,#16a34a);
      color:#020617;
    }

    .btn-secondary {
      background:rgba(15,23,42,0.96);
      color:#e5e7eb;
      border:1px solid rgba(148,163,184,0.9);
    }

    .gallery-section-title {
      margin-top:4px;
      font-size:0.9rem;
      font-weight:600;
    }

    .gallery {
      margin-top:8px;
      display:grid;
      grid-template-columns:repeat(3,minmax(0,1fr));
      gap:10px;
    }

    @media (max-width:800px) {
      .gallery { grid-template-columns:repeat(2,minmax(0,1fr)); }
    }

    @media (max-width:540px) {
      .gallery { grid-template-columns:repeat(2,minmax(0,1fr)); }
    }

    .thumb {
      position:relative;
      border-radius:12px;
      overflow:hidden;
      background:#020617;
      border:1px solid rgba(148,163,184,0.5);
      aspect-ratio:3/4;
      user-select:none;
    }

    .thumb-inner {
      width:100%;
      height:100%;
      background-size:cover;
      background-position:center;
      filter:blur(18px);
      transform:scale(1.1);
      transition:0.4s ease;
    }

    .thumb.unlocked .thumb-inner {
      filter:none;
      transform:scale(1.02);
    }

    .thumb-overlay {
      position:absolute;
      inset:0;
      display:flex;
      flex-direction:column;
      justify-content:space-between;
      padding:8px;
      background:linear-gradient(to bottom,rgba(15,23,42,0.9),rgba(15,23,42,0.05),rgba(15,23,42,0.9));
      pointer-events:none;
      font-size:0.7rem;
    }

    .thumb-label {
      padding:3px 7px;
      border-radius:999px;
      border:1px solid rgba(148,163,184,0.7);
      background:rgba(15,23,42,0.96);
      text-transform:uppercase;
      letter-spacing:0.08em;
    }

    .thumb-lock {
      margin-top:4px;
      padding:3px 7px;
      border-radius:999px;
      border:1px solid rgba(248,250,252,0.7);
      background:rgba(15,23,42,0.96);
      display:inline-flex;
      align-items:center;
      gap:4px;
    }

    .thumb-footer {
      padding:3px 7px;
      border-radius:999px;
      border:1px solid rgba(148,163,184,0.7);
      background:rgba(15,23,42,0.96);
    }

    footer {
      margin-top:auto;
      padding:12px;
      text-align:center;
      font-size:0.7rem;
      color:rgba(148,163,184,0.95);
      border-top:1px solid rgba(15,23,42,0.9);
    }
  </style>
</head>
<body>

<header>
  <h1>CoffeXXX</h1>
  <p>SuscripciÃ³n mensual para acceder al contenido privado de Sofi.</p>
</header>

<main>

  <!-- LOGO -->
  <img src="logocoffexxx.webp" class="logo" alt="CoffeXXX">

  <!-- INFO SUSCRIPCIÃ“N -->
  <section>
    <div class="section-title">SuscripciÃ³n mensual CoffeXXX</div>
    <p class="section-text">
      Pagando tu suscripciÃ³n accedÃ©s al contenido exclusivo de Sofi dentro de CoffeXXX.
      El acceso se habilita manualmente una vez que se confirma tu pago.
    </p>

    <div class="price-box">
      <div>
        <div class="price-main">
          $ 80.000 <span>ARS / suscripciÃ³n mensual</span>
        </div>
        <div class="price-note">
          La suscripciÃ³n es vÃ¡lida por 30 dÃ­as desde la aprobaciÃ³n.
        </div>
      </div>

      <div class="catalog-summary">
        <strong>Â¿QuÃ© incluye CoffeXXX?</strong>
        <ul>
          <li>Acceso al contenido exclusivo mientras dure tu suscripciÃ³n.</li>
          <li>Actualizaciones dentro del espacio CoffeXXX.</li>
          <li>GestiÃ³n mediante intermediario de pago.</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- FORMULARIO + ALIAS -->
  <section>
    <div class="section-title">Paso 1: completÃ¡ tus datos</div>

    <div class="form-card">
      <form id="requestForm">
        <div class="form-grid">
          <div class="form-field">
            <label>Nombre y apellido *</label>
            <input id="nombre" class="form-input" required>
          </div>
          <div class="form-field">
            <label>Contacto (Instagram / WhatsApp) *</label>
            <input id="contacto" class="form-input" required>
          </div>
          <div class="form-field">
            <label>Email (opcional)</label>
            <input id="email" class="form-input" type="email">
          </div>
          <div class="form-field">
            <label>Mensaje (opcional)</label>
            <textarea id="nota" class="form-textarea"></textarea>
          </div>
        </div>

        <label style="display:flex; gap:8px; margin-top:10px;">
          <input type="checkbox" id="acepto" required>
          <span>Confirmo que soy mayor de edad y no compartirÃ© el contenido.</span>
        </label>

        <div class="btn-row">
          <button type="button" class="btn-secondary" onclick="showAlias()">Ver alias para pagar</button>
        </div>

        <div id="aliasBox" class="alias-box">
          <div class="alias-label">Datos de pago</div>
          <div class="alias-value">Alias: <strong>agusdente</strong></div>
          <div class="alias-help">
            Este alias pertenece a un intermediario. El dinero se envÃ­a automÃ¡ticamente a Sofi.
          </div>

          <div class="form-field" style="margin-top:10px;">
            <label>Comprobante *</label>
            <input id="comprobante" class="form-input" required>
          </div>

          <div class="btn-row">
            <button type="submit" class="btn-primary">Enviar solicitud</button>
          </div>
        </div>

        <div id="formStatus" style="margin-top:8px;"></div>

      </form>
    </div>
  </section>

  <!-- GALERÃA -->
  <section>
    
    <div class="gallery" id="gallery">

      <div class="thumb" data-type="image" data-id="1" data-hd="foto1.jpg">
        <div class="thumb-inner" style="background-image:url('foto1.jpg');"></div>
        <div class="thumb-overlay">
          <div>
            <div class="thumb-label">Contenido</div>
            <div class="thumb-lock"><span>ðŸ”’</span><span class="lock-text">Bloqueado</span></div>
          </div>
          <div class="thumb-footer">Contenido 1</div>
        </div>
      </div>

      <div class="thumb" data-type="image" data-id="2" data-hd="foto2.jpg">
        <div class="thumb-inner" style="background-image:url('foto2.jpg');"></div>
        <div class="thumb-overlay">
          <div><div class="thumb-label">Contenido</div><div class="thumb-lock"><span>ðŸ”’</span><span class="lock-text">Bloqueado</span></div></div>
          <div class="thumb-footer">Contenido 2</div>
        </div>
      </div>

      <div class="thumb" data-type="image" data-id="3" data-hd="foto3.jpg">
        <div class="thumb-inner" style="background-image:url('foto3.jpg');"></div>
        <div class="thumb-overlay">
          <div><div class="thumb-label">Contenido</div><div class="thumb-lock"><span>ðŸ”’</span><span class="lock-text">Bloqueado</span></div></div>
          <div class="thumb-footer">Contenido 3</div>
        </div>
      </div>

      <div class="thumb" data-type="image" data-id="4" data-hd="foto4.jpg">
        <div class="thumb-inner" style="background-image:url('foto4.jpg');"></div>
        <div class="thumb-overlay">
          <div><div class="thumb-label">Contenido</div><div class="thumb-lock"><span>ðŸ”’</span><span class="lock-text">Bloqueado</span></div></div>
          <div class="thumb-footer">Contenido 4</div>
        </div>
      </div>

      <div class="thumb" data-type="image" data-id="5" data-hd="foto5.jpg">
        <div class="thumb-inner" style="background-image:url('foto5.jpg');"></div>
        <div class="thumb-overlay">
          <div><div class="thumb-label">Contenido</div><div class="thumb-lock"><span>ðŸ”’</span><span class="lock-text">Bloqueado</span></div></div>
          <div class="thumb-footer">Contenido 5</div>
        </div>
      </div>

      <div class="thumb" data-type="image" data-id="6" data-hd="foto6.jpg">
        <div class="thumb-inner" style="background-image:url('foto6.jpg');"></div>
        <div class="thumb-overlay">
          <div><div class="thumb-label">Contenido</div><div class="thumb-lock"><span>ðŸ”’</span><span class="lock-text">Bloqueado</span></div></div>
          <div class="thumb-footer">Contenido 6</div>
        </div>
      </div>

      <!-- VIDEO -->
      <div class="thumb" data-type="video" data-id="v1"
           data-video="video1.mp4"
           data-poster="foto6.jpg">
        <div class="thumb-inner" style="background-image:url('foto6.jpg');"></div>
        <div class="thumb-overlay">
          <div><div class="thumb-label">Contenido</div><div class="thumb-lock"><span>ðŸ”’</span><span class="lock-text">Bloqueado</span></div></div>
          <div class="thumb-footer">Contenido 7</div>
        </div>
      </div>

    </div>

    <p style="font-size:0.75rem; color:rgba(148,163,184,0.95); margin-top:8px;">
      Bloqueamos click derecho y descargas directas, pero ninguna pÃ¡gina puede evitar capturas de pantalla.
    </p>

  </section>

</main>

<footer>CoffeXXX Â· Â© 2025 Â· Contenido privado de Sofi.</footer>

<!-- Firebase (SIN CONFIG TODAVÃA) -->
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>

<script>
  const firebaseConfig = {
    apiKey: "TU_API_KEY",
    authDomain: "TU_PROYECTO.firebaseapp.com",
    projectId: "TU_PROYECTO",
    storageBucket: "TU_PROYECTO.appspot.com",
    messagingSenderId: "XXX",
    appId: "XXX"
  };

  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();

  const STORAGE_KEY = "coffexxx_request_id_v1";
  let aliasVisible = false;
  let unsubscribeDoc = null;

  document.addEventListener("contextmenu", e => e.preventDefault());
  document.addEventListener("dragstart", e => e.preventDefault());

  function applyUnlockedState() {
    document.querySelectorAll(".thumb").forEach(thumb => {
      const type = thumb.dataset.type;
      thumb.classList.add("unlocked");

      if (type === "image") {
        const hd = thumb.dataset.hd;
        thumb.querySelector(".thumb-inner").style.backgroundImage = `url('${hd}')`;
      }

      if (type === "video") {
        const src = thumb.dataset.video;
        const poster = thumb.dataset.poster;
        thumb.innerHTML = `
          <video controls playsinline controlsList="nodownload" 
                 style="width:100%;height:100%;object-fit:cover;border-radius:12px;"
                 poster="${poster}">
            <source src="${src}" type="video/mp4">
          </video>
        `;
      }
    });
  }

  function listenToRequest(id) {
    if (unsubscribeDoc) unsubscribeDoc();
    unsubscribeDoc = db.collection("suscripciones").doc(id).onSnapshot(doc => {
      if (doc.exists && doc.data().desbloqueado === true) {
        applyUnlockedState();
        const status = document.getElementById("formStatus");
        status.textContent = "SuscripciÃ³n aprobada. Contenido desbloqueado âœ“";
        status.style.color = "#4ade80";
      }
    });
  }

  document.addEventListener("DOMContentLoaded", () => {
    const id = localStorage.getItem(STORAGE_KEY);
    if (id) listenToRequest(id);
  });

  function showAlias() {
    const nombre = nombre.value.trim();
    const contacto = contacto.value.trim();
    const acepto = document.getElementById("acepto").checked;
    const status = document.getElementById("formStatus");

    if (!nombre || !contacto || !acepto) {
      status.textContent = "CompletÃ¡ datos y aceptÃ¡ condiciones primero.";
      status.style.color = "#f97373";
      return;
    }

    aliasBox.style.display = "block";
    aliasVisible = true;
    status.textContent = "Alias visible. RealizÃ¡ el pago.";
    status.style.color = "#4ade80";
  }

  requestForm.onsubmit = async(e) => {
    e.preventDefault();
    const status = document.getElementById("formStatus");

    if (!aliasVisible) {
      status.textContent = "Primero presionÃ¡ 'Ver alias para pagar'.";
      status.style.color = "#f97373";
      return;
    }

    const data = {
      nombre: nombre.value.trim(),
      contacto: contacto.value.trim(),
      email: email.value.trim() || null,
      nota: nota.value.trim() || null,
      comprobante: comprobante.value.trim(),
      creado: firebase.firestore.FieldValue.serverTimestamp(),
      origen: "CoffeXXX",
      monto: 80000,
      moneda: "ARS",
      desbloqueado: false
    };

    const docRef = await db.collection("suscripciones").add(data);
    localStorage.setItem(STORAGE_KEY, docRef.id);
    listenToRequest(docRef.id);

    status.textContent = "Solicitud enviada. Se desbloquearÃ¡ cuando Sofi la apruebe âœ“";
    status.style.color = "#4ade80";
  };
</script>

</body>
</html>
